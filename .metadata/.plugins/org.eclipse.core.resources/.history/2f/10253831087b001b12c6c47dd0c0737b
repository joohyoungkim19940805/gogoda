<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="g.g.d.com.movie.dao.MovieDao">


<resultMap type="g.g.d.com.movie.vo.MovieListVO" id="mvlvo">

	<result property="mvnum" column="MVNUM"/>
	<result property="mvname" column="MVNAME"/>
	<result property="mvgenre" column="MVGENRE"/>
	<result property="mvpubdate" column="MVPUBDATE"/>
	
</resultMap>

<select id="MovieSelectListService" parameterType="movieList" resultType="movieList">
	SELECT * FROM MOVIETABLE WHERE MVGENRE=#{mvgenre} AND MVPUBDATE>2010
</select>

<select id="MovieRankService" parameterType="movieList" resultType="movieList">
	SELECT * FROM MOVIETABLE WHERE MOVIECNT>0 ORDER BY MOVIECNT DESC
</select>

<update id="MovieCountService" parameterType="String">
	UPDATE MOVIETABLE
		SET MOVIECNT = MOVIECNT + 1 
	WHERE MVNUM = #{mvnum, jdbcType=VARCHAR}
</update>

</mapper>